# subversion-clj [![Build Status](https://secure.travis-ci.org/dsabanin/subversion-clj.png)](http://travis-ci.org/dsabanin/subversion-clj)

#### Clojure library for working with Subversion repositories

This code is initially extracted from <a href="http://beanstalkapp.com">beanstalkapp.com</a> caching daemon[1]. 
It's a work in progress, so be careful with updates to new versions. The API may change, although I'm trying to keep
thing compatible.

Based on <a href="http://svnkit.com/">SVNKit</a>, tested with Subversion up to 1.7.9.


[1] <a href="http://blog.beanstalkapp.com/post/23998022427/beanstalk-clojure-love-and-20x-better-performance">Post in Beanstalk's blog about this</a>

## Install

Available from <a href="https://clojars.org/subversion-clj">Clojars</a>.

## Usage

<a href="http://dsabanin.github.io/subversion-clj">API documentation</a> with some examples, generated by awesome <a href="https://github.com/fogus/marginalia">Marginalia</a>.

```clojure
; This needs to be pointed to your repo, not working copy
(repo-for "file:///some/path/on-your/disk/repo")

; Connecting to remote repository with authentication
(repo-for "https://wildbit.svn.beanstalkapp.com/test-repo" "my-login" "my-password")

; Finds revision 100 in repo and returns it
(revision-for repo 100)

; Finds all revisions in the repo
(revisions-for repo)

; Finds youngest revision of the repo
(youngest repo)

; Gets UUID of the repo
(uuid repo)
```

## Example of revision records


```clojure
; Deleted directory
{:revision 7
:author "dsabanin"
:message "removed directory"
:changes [["dir" "some-directory" :delete]]}

; Edited files
{:revision 11
:author "dsabanin"
:message "editing files"
:changes [["file" "file-abc" :edit]
          ["file" "file-def" :edit]]}

; Copied directory
{:revision 6
:author "dsabanin"
:message "copied dir"
:changes [["dir" ["new-directory" "old-directory" 5] :copy]]}
```

## Credits

<a href="http://svnkit.com/">SVNKit</a> by TMate Software for a very powerful API to build upon.

## License

Copyright (C) 2013 Dima Sabanin

Distributed under the Eclipse Public License, the same as Clojure.
